# 健身饮品偏好调查功能

## 概述

这个功能为用户提供了一个交互式的健身饮品偏好调查问卷，帮助用户了解自己的饮品偏好，并获得个性化的健康饮品推荐。

## 功能特性

### 🎯 调查问卷
- **5个核心问题**：涵盖健身目标、甜度偏好、饮品风格、饮食限制和碳酸偏好
- **渐进式设计**：一步一步引导用户完成调查
- **视觉反馈**：实时显示进度条和选择状态
- **响应式界面**：适配不同屏幕尺寸

### 🎨 用户界面
- **现代化设计**：使用Material Design 3风格
- **渐变色彩**：紫色主题配色方案
- **图标支持**：每个问题都有相应的图标和表情符号
- **动画效果**：平滑的过渡动画和悬停效果

### 📊 结果展示
- **个性化推荐**：基于用户偏好推荐合适的饮品类型
- **偏好总结**：清晰展示用户的所有选择
- **健康建议**：提供个性化的健康和生活建议
- **分享功能**：支持分享调查结果（开发中）

## 技术架构

### 数据模型
```dart
class FitnessDrinkPreferencesModel {
  final String userId;
  final FitnessGoal fitnessGoal;
  final SweetnessLevel sweetnessLevel;
  final DrinkStyle drinkStyle;
  final DietaryRestriction mainDietaryRestriction;
  final bool likesCarbonated;
  final DateTime createdAt;
  final DateTime? updatedAt;
}
```

### 状态管理
- 使用 **Riverpod** 进行状态管理
- `FitnessDrinkPreferencesProvider` 管理用户偏好数据
- 支持创建、更新和清除用户偏好

### 页面结构
1. **FitnessDrinkSurveyPage** - 调查问卷主页面
2. **FitnessDrinkResultsPage** - 结果展示页面

## 使用方法

### 1. 访问调查页面
- 在应用底部导航栏选择"饮品调查"标签
- 或者通过其他页面的导航链接访问

### 2. 完成调查问卷
- 回答5个关于饮品偏好的问题
- 每个问题选择最符合的选项
- 使用"下一步"按钮继续，或"返回"按钮修改

### 3. 查看结果
- 完成调查后自动跳转到结果页面
- 查看个性化推荐和健康建议
- 使用"重新调查"按钮修改偏好

### 4. 管理偏好
- 在调查页面顶部可以查看已保存的结果
- 随时更新或重新完成调查

## 问题类型

### 1. 健身目标
- 🔥 减重：燃烧卡路里，瘦身塑形
- ⚖️ 维持体重：保持健康平衡
- 💪 增肌：增强力量和肌肉

### 2. 甜度偏好
- 🌿 低糖：微妙自然的味道
- 🍯 中等甜度：平衡顺滑
- 🍭 高糖：浓郁醇厚的口感

### 3. 饮品风格
- 💧 清爽：轻盈、清脆、提神
- 🥛 浓郁：丰富、顺滑、满足
- ☕ 温暖：舒适、温馨、舒缓

### 4. 饮食限制
- ✅ 无限制：无特殊限制
- 🌱 纯素：仅限植物性
- 🚫 无乳制品：不含乳制品
- 📉 低糖：最低糖分含量

### 5. 碳酸偏好
- 💫 喜欢碳酸：起泡和碳酸
- 🌊 不喜欢碳酸：顺滑无气泡

## 推荐算法

系统基于用户的偏好组合，智能推荐最适合的饮品类型：

- **减重目标 + 低糖偏好** → 低卡路里绿茶
- **增肌目标 + 浓郁风格** → 蛋白质奶昔
- **维持目标 + 温暖风格** → 草本茶
- **碳酸爱好者** → 无糖气泡水

## 个性化建议

根据用户的健身目标和偏好，系统会提供相应的健康建议：

- **减重用户**：选择低卡路里饮品，避免含糖饮料
- **增肌用户**：增加蛋白质摄入，运动后及时补充水分
- **纯素用户**：选择植物性蛋白饮品
- **高糖偏好**：考虑使用天然甜味剂

## 开发说明

### 依赖项
- `flutter_riverpod` - 状态管理
- `json_annotation` - JSON序列化

### 文件结构
```
lib/
├── data/
│   └── models/
│       └── fitness_drink_preferences_model.dart
├── presentation/
│   ├── pages/
│   │   ├── fitness_drink_survey_page.dart
│   │   └── fitness_drink_results_page.dart
│   └── providers/
│       └── fitness_drink_preferences_provider.dart
```

### 扩展功能
- 添加更多饮品类型和推荐
- 集成营养数据库
- 添加用户评分和反馈
- 实现社交分享功能
- 添加饮品购买链接

## 注意事项

1. **数据持久化**：当前版本仅保存在内存中，重启应用后数据会丢失
2. **用户认证**：需要用户登录才能保存偏好
3. **网络连接**：推荐功能目前为本地计算，无需网络连接
4. **多语言支持**：当前仅支持中文，可扩展为多语言

## 未来计划

- [ ] 数据持久化存储
- [ ] 云端同步
- [ ] 更多饮品推荐
- [ ] 营养信息集成
- [ ] 用户社区功能
- [ ] 智能推荐算法优化
